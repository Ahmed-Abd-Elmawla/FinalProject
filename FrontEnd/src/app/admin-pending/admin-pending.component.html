<div class="body">
  <div class="container">
    <div class="row">
      <div class="col-3">
        <app-side-bar></app-side-bar>
      </div>
      <div class="col-9">
        <div class="row mb-3">
          <div class="col p-0 ps-1">
            <h3>Posts</h3>
          </div>
        </div>
        <div class="row p-0 ps-1">
          <table class="table table-bordered">
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">Title</th>
                <th scope="col">Price</th>
                <th scope="col">location</th>
                <th scope="col">Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngIf="allPosts?.length ==0" class="text-center">
                <td colspan="5">No Pending Posts</td></tr>
              <tr *ngFor="let post of allPosts; let i = index">
                <td>{{ i + 1 }}</td>
                <td>{{post.title}}</td>
                <td>{{post.price}}</td>
                <td>{{post.location}}</td>
                <td>
                  <button class="btn btn-info" placement="bottom" ngbTooltip="view post" (click)="view(post,content)"><i class="fa-solid fa-eye"></i></button>
                  <button class="btn btn-success ms-2" placement="bottom" ngbTooltip="publish post" (click)="update(post.id,'published')"><i class="fa-solid fa-thumbs-up"></i></button>
                  <button class="btn btn-danger ms-2" placement="bottom" ngbTooltip="reject post" (click)="update(post.id,'rejected')"><i class="fa-solid fa-thumbs-down"></i></button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>


<!-- <ngb-carousel>
	<ng-template ngbSlide>
		<div class="picsum-img-wrapper">
			<img src="http://localhost:8000/users_images/" alt="" />
		</div>
		<div class="carousel-caption">
			<h3>First slide label</h3>
			<p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>
		</div>
	</ng-template>
</ngb-carousel> -->


<!-- <ng-template #content let-modal>
	<div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title">post Information</h4>
		<button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
	</div>
	<div class="modal-body overflow-hidden mt-3 p-3 mb-2">
    <div class="row text-center mt-3 mb-2">
      <div class="col-12">
        <label for="name" class="text-center bg-secondary-subtle p-1 ps-2 px-2 mx-1 mb-2 w-100">Post Image</label>
      </div>
      <ngb-carousel>
        <ng-template ngbSlide *ngFor="let image of postData.images">
          <div class="picsum-img-wrapper">
            <img src="http://localhost:8000/post_images/{{image}}" alt="" />
          </div>
        </ng-template>
      </ngb-carousel>
    </div>
    <div class="row">
      <div class="col-6">
        <label for="name" class="label text-center bg-secondary-subtle p-1 ps-2 px-2 mx-1 mb-2">Name</label><label for="name">{{userData.name}}</label>
      </div>
      <div class="col-6">
        <label for="name" class="label text-center bg-secondary-subtle p-1 ps-2 px-2 mx-1 mb-2">Personal ID</label><label for="name">{{userData.personal_id}}</label>
      </div>
      <div class="col-6">
        <label for="name" class="label text-center bg-secondary-subtle p-1 ps-2 px-2 mx-1 mb-2">Email</label><label for="name">{{userData.email}}</label>
      </div>
      <div class="col-6">
        <label for="name" class="label text-center bg-secondary-subtle p-1 ps-2 px-2 mx-1 mb-2">Phone</label><label for="name">0{{userData.number}}</label>
      </div>
    </div>
	</div>
</ng-template> -->


<ng-template #content let-c="close" let-d="dismiss">
	<div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title">Post Information</h4>
		<button type="button" class="btn-close" aria-label="Close" (click)="d('Cross click')"></button>
	</div>
	<div class="modal-body overflow-hidden mt-3 p-3 mb-4">
    <div class="row text-center mt-3 mb-2">
      <div class="col-12">
        <label for="name" class="text-center bg-secondary-subtle p-1 ps-2 px-2 mx-1 mb-2 w-100">Title</label>
      </div>
      <div class="col-12">
        <label for="name">{{postData.title}}</label>
      </div>
      <div class="col-12">
        <div ngbAccordion class="mt-3 mb-3">
          <div ngbAccordionItem [collapsed]="true">
            <h2 ngbAccordionHeader class="text-center">
              <button ngbAccordionButton>Description</button>
            </h2>
            <div ngbAccordionCollapse>
              <div ngbAccordionBody>
                <ng-template>{{postData.description}}</ng-template>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-12">
        <label for="name" class="text-center bg-secondary-subtle p-1 ps-2 px-2 mx-1 mb-2 w-100">Post Images</label>
      </div>
      <ngb-carousel>
        <ng-template ngbSlide *ngFor="let image of postData.images">
          <div class="picsum-img-wrapper">
            <img src="http://localhost:8000/post_images/{{image}}" alt="" />
          </div>
        </ng-template>
      </ngb-carousel>
    </div>
    <div class="row">
      <div class="col-6">
        <label for="name" class="label text-center bg-secondary-subtle p-1 ps-2 px-2 mx-1 mb-2">Category</label><label for="name">{{postData.category.category_name}}</label>
      </div>
      <div class="col-6">
        <label for="name" class="label text-center bg-secondary-subtle p-1 ps-2 px-2 mx-1 mb-2">Price</label><label for="name">{{postData.price}}</label>
      </div>
      <div class="col-6">
        <label for="name" class="label text-center bg-secondary-subtle p-1 ps-2 px-2 mx-1 mb-2">Location</label><label for="name">{{postData.location}}</label>
      </div>
      <div class="col-6">
        <label for="name" class="label text-center bg-secondary-subtle p-1 ps-2 px-2 mx-1 mb-2">Discount</label><label for="name">{{postData.discount}}</label>
      </div>
    </div>
	</div>
</ng-template>
